<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nossa História</title>

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root { --green:#1DB954; }

    body{
      margin:0; padding:0;
      color:#fff;
      font-family:'Montserrat',sans-serif;
      background:#121212;
      transition: background .8s ease;
      overflow-x:hidden;
    }

    header{
      padding:56px 18px 10px;
      text-align:center;
    }

    h1{
      margin:0;
      font-size:2.2rem;
      background: linear-gradient(45deg, #fff, var(--green));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
    }

    .subtitle{
      margin:10px 0 0;
      color:#b3b3b3;
      font-size:1rem;
      letter-spacing:1px;
    }

    /* FEED (uma embaixo da outra) */
    .feed{
      max-width:520px;
      margin:0 auto;
      padding:18px 14px 60px;
      display:flex;
      flex-direction:column;
      gap:22px;
    }

    .card{
      background:rgba(255,255,255,0.06);
      border-radius:14px;
      padding:12px;
      cursor:pointer;
      position:relative;
      overflow:hidden;

      /* reveal */
      opacity:0;
      transform: translateY(22px);
      transition: opacity .55s ease, transform .55s ease, box-shadow .25s ease, background .25s ease;
    }
    .card.reveal{ opacity:1; transform: translateY(0); }

    .card:hover{
      background:rgba(255,255,255,0.12);
      box-shadow:0 18px 40px rgba(0,0,0,0.55);
    }

    .card img{
      width:100%;
      height:auto;           /* estilo feed */
      border-radius:10px;
      display:block;
    }

    .hint{
      margin-top:10px;
      font-size:.9rem;
      color:#9aa0a6;
      text-align:center;
    }

    /* OVERLAY (zoom + frase) */
    #overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.92);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:9999;
      padding:18px;
    }

    #overlayBox{
      width:min(900px, 100%);
      display:flex;
      flex-direction:column;
      gap:14px;
      align-items:center;
    }

    #overlayImg{
      width:100%;
      max-height:72vh;
      object-fit:contain;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.15);
      background:#111;
    }

    #overlayText{
      color:var(--green);
      font-weight:700;
      text-align:center;
      font-size:1.25rem;
      line-height:1.35;
      max-width:90%;
    }

    #closeBtn{
      position:fixed;
      top:14px; right:14px;
      width:44px; height:44px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.18);
      background:rgba(0,0,0,0.55);
      color:#fff;
      font-size:22px;
      cursor:pointer;
    }

    /* Se não suportar IntersectionObserver, não esconder */
    .no-io .card{ opacity:1; transform:none; }
  </style>
</head>

<body>
  <header>
    <h1>Nossa História</h1>
    <p class="subtitle">Toque nas fotos para ler as mensagens</p>
  </header>

  <main class="feed">
    <div class="card" data-frase="Frase 1"><img src="foto1.jpeg" alt="Foto 1"></div>
    <div class="card" data-frase="Frase 2"><img src="foto2.jpeg" alt="Foto 2"></div>
    <div class="card" data-frase="Frase 3"><img src="foto3.jpeg" alt="Foto 3"></div>
    <div class="card" data-frase="Frase 4"><img src="foto4.jpeg" alt="Foto 4"></div>
    <div class="card" data-frase="Frase 5"><img src="foto5.jpeg" alt="Foto 5"></div>
    <div class="card" data-frase="E que daqui uns anos sejamos nós dois."><img src="foto6.jpeg" alt="Foto 6"></div>
    <div class="card" data-frase="Frase 7"><img src="foto7.jpeg" alt="Foto 7"></div>
    <div class="card" data-frase="Frase 8"><img src="foto8.jpeg" alt="Foto 8"></div>
    <div class="card" data-frase="Frase 9"><img src="foto9.jpeg" alt="Foto 9"></div>
    <div class="card" data-frase="Frase 10"><img src="foto10.jpeg" alt="Foto 10"></div>
    <div class="card" data-frase="Frase 11"><img src="foto11.jpeg" alt="Foto 11"></div>

    <div class="hint">Dica: clique/toque em uma foto para abrir em tela cheia</div>
  </main>

  <!-- Overlay -->
  <div id="overlay" aria-hidden="true">
    <button id="closeBtn" aria-label="Fechar">×</button>
    <div id="overlayBox">
      <img id="overlayImg" alt="">
      <div id="overlayText"></div>
    </div>
  </div>

  <script>
    // degradê no scroll
    window.addEventListener('scroll', () => {
      const denom = (document.documentElement.scrollHeight - window.innerHeight) || 1;
      const p = window.scrollY / denom;
      const r = Math.floor(18 + (p * 50));
      const g = Math.floor(18 + (p * 20));
      const b = Math.floor(18 + (p * 80));
      document.body.style.background = `rgb(${r}, ${g}, ${b})`;
    });

    const cards = document.querySelectorAll('.card');

    // reveal (sem bug)
    if (!('IntersectionObserver' in window)) {
      document.body.classList.add('no-io');
    } else {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add('reveal');
        });
      }, { threshold: 0.1 });

      cards.forEach(card => observer.observe(card));
    }

    // overlay click (tocar abre)
    const overlay = document.getElementById('overlay');
    const overlayImg = document.getElementById('overlayImg');
    const overlayText = document.getElementById('overlayText');
    const closeBtn = document.getElementById('closeBtn');

    function openOverlay(imgSrc, text){
      overlayImg.src = imgSrc;
      overlayText.textContent = text || '';
      overlay.style.display = 'flex';
      overlay.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
    }

    function closeOverlay(){
      overlay.style.display = 'none';
      overlay.setAttribute('aria-hidden', 'true');
      overlayImg.src = '';
      document.body.style.overflow = '';
    }

    cards.forEach(card => {
      card.addEventListener('click', () => {
        const img = card.querySelector('img');
        openOverlay(img.src, card.getAttribute('data-frase'));
      });
    });

    overlay.addEventListener('click', (e) => {
      // fecha clicando fora da imagem
      if (e.target === overlay) closeOverlay();
    });
    closeBtn.addEventListener('click', closeOverlay);

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeOverlay();
    });
  </script>
</body>
</html>
